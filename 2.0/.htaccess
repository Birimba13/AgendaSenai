# Habilitar o módulo de reescrita
RewriteEngine On

# Define o diretório base
RewriteBase /AgendaSenai/2.0/

# Redirecionar raiz para public/index.php
RewriteRule ^$ public/index.php [L]

# Redirecionar requisições para arquivos PHP para o diretório public/
# Exemplo: /login.php -> /public/login.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} \.php$
RewriteRule ^([^/]+\.php)$ public/$1 [L]

# Permitir acesso direto aos assets (CSS, JS, imagens)
RewriteCond %{REQUEST_URI} ^/AgendaSenai/2\.0/(assets|api)/
RewriteRule ^ - [L]

# Bloquear acesso direto aos diretórios app e config
RewriteCond %{REQUEST_URI} ^/AgendaSenai/2\.0/(app|config)/
RewriteRule ^ - [F,L]
